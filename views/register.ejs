<!DOCTYPE html>
<%- include("partials/header", { title: "Register", studentId }) %>

<div class="container my-5" style="max-width:500px;">
  <h2 class="mb-4 text-center">Register</h2>
  
  <% if (error) { %>
    <div class="alert alert-danger"><%= error %></div>
  <% } %>

  <form method="POST" action="/api/register-<%= studentId %>">
    <div class="mb-3">
      <label class="form-label">Email Address</label>
      <input type="email" name="email" class="form-control" required>
    </div>
    
    <div class="mb-3">
      <label class="form-label">Password</label>
      <input
        type="password"
        name="password"
        class="form-control"
        required
        minlength="8"
        pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}"
        title="8+ chars, include uppercase, lowercase, number, and special character"
        />
        <small class="text-muted">
        Must be 8+ chars and include uppercase, lowercase, number, and special character.
        </small>
    </div>
    
    <div class="mb-3">
      <label class="form-label">Full Name</label>
      <input type="text" name="fullname" class="form-control" required>
    </div>
    
    <div class="mb-3">
      <label class="form-label">Role</label>
      <select name="role" class="form-select" required>
        <option value="chef">Chef</option>
        <option value="manager">Manager</option>
        <option value="admin">Admin</option>
      </select>
    </div>
    
    <div class="mb-3">
      <label class="form-label">Phone Number</label>
      <input type="text" name="phone" class="form-control" required>
    </div>
    
    <button type="submit" class="btn btn-primary w-100">Register</button>
  </form>

  <p class="mt-3 text-center">
    Already have an account? <a href="/login-<%= studentId %>">Login here</a>
  </p>
</div>

<%- include("partials/footer") %>
